<!DOCTYPE html>
<html>
<style>
html, body {
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
}
body {
  font-family: sans-serif;
  font-size: 0.8em;
  display: -webkit-box;
}
#control {
  border-right: solid 1px black;
  padding: 16px;
}
#display {
  overflow: scroll;
  -webkit-box-flex: 1;
}
</style>
<body>
<script>
  var kNodeSizes = {{.Graph.NodeSizes | firstn 500 | json}};
</script>
<div id=control>
  {{with .Profile.Header}}
  total allocated bytes: {{.InuseBytes | kb}} <br>
  {{end}}

  <form method=post>
  show nodes &gt; <input name=node size=2>kb<br>
  keep <input name=nodecount size=2 value={{.Params.NodeKeepCount}}> nodes<br>
  show edges &gt; <input name=edge size=2>kb<br>
  <input type=submit value=render>
  </form>
</div>
<div id=display>
  <img src=graph.png>
</div>
<script>
var display = document.getElementById('display');
var last = null;
display.addEventListener('mousedown', function(e) {
  if (e.button == 1) {
    last = {x:e.x, y:e.y};
  }
  e.preventDefault();
});
display.addEventListener('mousemove', function(e) {
  if (!last) return;
  if (e.button == 1) {
    display.scrollTop -= e.y - last.y;
    display.scrollLeft -= e.x - last.x;
    last = {x:e.x, y:e.y};
  } else {
    last = null;
  }
  e.preventDefault();
});
display.addEventListener('mouseup', function(e) {
  last = null;
  e.preventDefault();
});
</script>
</body>
</html>
